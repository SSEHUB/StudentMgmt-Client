<div class="dialog-container" id="search-user-dialog">
	<h2 mat-dialog-title>{{ 'Title.SearchUser' | translate }}</h2>
	<div mat-dialog-content class="dialog-content">

		<div id="userFilter-container">
			<mat-form-field id="userFilter-field">
				<mat-label>Filter</mat-label>
				<input matInput [(ngModel)]="userFilter" (keydown.enter)="searchUsers()" placeholder="Filter..." autocomplete="off">
			</mat-form-field>
			<button mat-flat-button color="accent" (click)="searchUsers()" id="btn-search">{{ 'Button.Search' | translate }}</button>
		</div>
		
		<div id="table-users">
			<table mat-table [dataSource]="dataSource" matSort>
  				<!-- Checkbox Column -->
  				<ng-container matColumnDef="select">
  				  <th class="column-select" mat-header-cell *matHeaderCellDef>
  				    <mat-checkbox (change)="$event ? masterToggle() : null"
  				                  [checked]="selection.hasValue() && isAllSelected()"
  				                  [indeterminate]="selection.hasValue() && !isAllSelected()">
  				    </mat-checkbox>
  				  </th>
  				  <td class="column-select" mat-cell *matCellDef="let row">
  				    <mat-checkbox (click)="$event.stopPropagation()"
  				                  (change)="$event ? selection.toggle(row) : null"
  				                  [checked]="selection.isSelected(row)">
  				    </mat-checkbox>
  				  </td>
  				</ng-container>
	
				<!-- Role Column -->
				<ng-container matColumnDef="role">
					<th class="column-role" mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'Property.User.Role' | translate }}</th>
					<td mat-cell *matCellDef="let row">{{ row.role | translate }}</td>
				</ng-container>
		
				<!-- Username Column -->
				<ng-container matColumnDef="username">
					<th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'Property.User.Username' | translate }}</th>
					<td mat-cell *matCellDef="let row">{{ row.username }}</td>
				</ng-container>

				<!-- Rzname Column -->
				<ng-container matColumnDef="rzname">
					<th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'Property.User.RzName' | translate }}</th>
					<td mat-cell *matCellDef="let row">{{ row.rzName }}</td>
				</ng-container>
	
				<!-- Email Column -->
				<ng-container matColumnDef="email">
					<th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'Property.User.Email' | translate }}</th>
					<td mat-cell *matCellDef="let row">{{ row.email }}</td>
				</ng-container>
	
				<!-- Action Column -->
				<ng-container matColumnDef="actions">
					<th class="action-column" mat-header-cell *matHeaderCellDef></th>
					<td class="action-column" mat-cell *matCellDef="let row">
						<button mat-icon-button [matMenuTriggerFor]="userOptionsMenu">
							<mat-icon class="icon-light">settings</mat-icon>
						  </button>
						  <mat-menu #userOptionsMenu="matMenu" yPosition="above">
							<button mat-menu-item>
								<mat-icon>import_export</mat-icon>
								<span>{{ 'Button.Custom.ChangeRole' | translate }}</span>
							</button>
							<button mat-menu-item>
							  <mat-icon>delete_forever</mat-icon>
							  <span>{{ 'Button.Remove' | translate }}</span>
							</button>
						  </mat-menu>
					</td>
				</ng-container>
		
				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr mat-row *matRowDef="let row; columns: displayedColumns;">
				</tr>
			</table>
		
			<mat-paginator [pageSizeOptions]="[25, 50, 100]"></mat-paginator>
		</div>


	</div>

	<div mat-dialog-actions class="dialog-actions">
		<button mat-raised-button color="accent" (click)="onConfirm()">{{ 'Button.Ok' | translate }}</button>
		<button mat-button (click)="onCancel()">{{ 'Button.Cancel' | translate }}</button>
	</div>

</div>
