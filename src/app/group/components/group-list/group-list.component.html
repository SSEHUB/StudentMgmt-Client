<div class="tab">
	<button (click)="openAddDialog()" mat-flat-button id="btn-add" color="accent">
		<mat-icon>add</mat-icon>
		Add Group
	</button>

	<div id="users-group-container" *ngIf="groupOfUser">
		<h2 class="groups-heading">My group</h2>
		<div class="group-list-item" id="users-group">
			<div class="group-container">
				<div class="left">
					<button mat-button disabled=true>Join</button>
				</div>
				<div class="middle">
					<a class="link-none font-bold" [routerLink]="[groupOfUser.id]">{{groupOfUser.name}}</a>
				</div>
				<div class="right">
					<span class="group-size font-bold">{{groupOfUser.users.length}}/{{groupSettings?.sizeMax}}</span>
				</div>
			</div>
		</div>
	</div>

	<div *ngIf="groups && groupSettings">
		<h2 class="groups-heading">Other groups</h2>

		<div id="filter-container">
			<mat-form-field id="filter-field">
				<input [(ngModel)]="filter" (keyup)="applyFilter()" matInput placeholder="Group name or username" autocomplete="off">
			</mat-form-field>
			<!-- <mat-slide-toggle id="checkbox-only-joinable-groups" [(ngModel)]="onlyJoinableGroups" (toggleChange)="applyFilter()">Show only joinable groups</mat-slide-toggle> -->
		</div>

		<mat-list dense class="group-list">
			<mat-list-item class="group-list-item" *ngFor="let group of filteredGroups">
				<div class="group-container">
					<div class="left">
						<button mat-button class="btn-join" [disabled]="!isJoinable(group)" (click)="openJoinGroupDialog(group)">Join</button>
					</div>
					<div class="middle">
						<a class="link-none font-bold" [routerLink]="[group.id]">{{group.name}}</a>
					</div>
					<div class="right">
						<span class="group-size font-bold">
							<mat-icon class="icon-light" *ngIf="group.isClosed">lock</mat-icon>
							{{group.users.length}}/{{groupSettings?.sizeMax}}
						</span>
					</div>
				</div>
			</mat-list-item>
		</mat-list>
	</div>
	
</div>
